package aop_p.adv;

import org.aspectj.lang.ProceedingJoinPoint;

import aop_p.webToon.Fish;

public class FishingAdvice {
    
    Object fiTest(ProceedingJoinPoint joinPoint) {
        Object fs = null;
        
        System.out.println("낚시를 시작합니다.");
        
       

        try {
            fs = joinPoint.proceed();
            
            if (joinPoint.getArgs().length == 0) {
            	fs = joinPoint.proceed();
                System.out.println("미끼를 넣으세요.");
                return null;
            }
            
            if (fs != null && fs instanceof Fish && ((Fish) fs).getSize() <= 20) {
                System.out.println("풀어주자");
                fs = null;
            }
        } catch (Throwable e) {
            e.printStackTrace();
        }
        
        return fs;
    }
}
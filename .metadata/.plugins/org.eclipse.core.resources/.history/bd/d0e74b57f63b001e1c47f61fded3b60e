package aop_p.adv;

import org.aspectj.lang.ProceedingJoinPoint;

import aop_p.webToon.Fish;

public class FishingAdvice {
    
    Object fiTest(ProceedingJoinPoint joinPoint) {
        Object fs = null;
        
        System.out.println("낚시를 시작합니다.");
        
       

        try {
            
            if (joinPoint.getArgs().length == 0) {
                System.out.println("미끼를 넣으세요.");
                return null;
            }
            fs = joinPoint.proceed();
            
            if (joinPoint.proceed() != null && joinPoint.proceed() instanceof Fish && ((Fish) joinPoint.proceed()).getSize() <= 20) {
                System.out.println("풀어주자");
                joinPoint.proceed = null;
            }
            
        } catch (Throwable e) {
            e.printStackTrace();
        }
        
        return fs;
    }
}